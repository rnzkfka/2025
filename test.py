import streamlit as st
from colorsys import rgb_to_hls

# -------------------------
# 1. 앱 타이틀
# -------------------------
st.markdown(
    """
    <h1 style='text-align: center; font-family: Malgun Gothic;'>전국 대학교와 학과</h1>
    """,
    unsafe_allow_html=True
)

# -------------------------
# 2. 시/도별 대학교 데이터
# -------------------------
universities = {
    "서울특별시": ["서울대학교", "연세대학교", "고려대학교", "한양대학교", "성균관대학교"],
    "광주광역시": ["전남대학교", "조선대학교", "광주과학기술원"],
    "부산광역시": ["부산대학교", "동아대학교", "부경대학교", "부산가톨릭대학교", "신라대학교"],
    "대구광역시": ["경북대학교", "계명대학교", "대구가톨릭대학교", "영남대학교", "경일대학교"],
    "인천광역시": ["인하대학교", "경인교육대학교", "인천대학교", "인천가톨릭대학교"],
    "대전광역시": ["충남대학교", "한남대학교", "목원대학교", "배재대학교"],
    "울산광역시": ["울산대학교", "을지대학교", "울산과학대학교"],
    "경기도": ["성균관대학교(수원)", "경기대학교", "한양대학교(ERICA)", "수원대학교", "가천대학교"],
    "강원도": ["강원대학교", "한라대학교", "강릉원주대학교", "강릉영동대학교"],
    "충청북도": ["충북대학교", "청주대학교", "서원대학교", "건국대학교(충주캠)"],
    "충청남도": ["공주대학교", "순천향대학교", "한국기술교육대학교", "호서대학교", "청운대학교"],
    "전라북도": ["전북대학교", "원광대학교", "우석대학교", "군산대학교", "전주대학교"],
    "전라남도": ["목포대학교", "순천대학교"],
    "경상북도": ["포항공과대학교", "안동대학교"],
    "경상남도": ["경상대학교", "창원대학교", "인제대학교", "마산대학교"],
    "제주특별자치도": ["제주대학교"]
}

# -------------------------
# 3. 대학교 대표 색상
# -------------------------
university_colors = {
    "서울대학교": "#1E4D2B",
    "연세대학교": "#003478",
    "고려대학교": "#A50034",
    "한양대학교": "#004098",
    "성균관대학교": "#005BAC",
    "전남대학교": "#008000",
    "조선대학교": "#005BAC",
    "광주과학기술원": "#FF6600",
    "부산대학교": "#004098",
    "동아대학교": "#002F6C",
    "부경대학교": "#002F6C",
    "부산가톨릭대학교": "#6D9BC3",
    "신라대학교": "#C8102E",
    "경북대학교": "#C60C30",
    "계명대학교": "#1D4E89",
    "대구가톨릭대학교": "#2E8B57",
    "영남대학교": "#004098",
    "경일대학교": "#D2232A",
    "인하대학교": "#002F6C",
    "경인교육대학교": "#1A4C8B",
    "인천대학교": "#003DA5",
    "인천가톨릭대학교": "#6E2639",
    "충남대학교": "#005BAC",
    "한남대학교": "#002F6C",
    "목원대학교": "#8B1C62",
    "배재대학교": "#003478",
    "울산대학교": "#00462A",
    "을지대학교": "#008060",
    "울산과학대학교": "#005BAC",
    "성균관대학교(수원)": "#005BAC",
    "경기대학교": "#002F6C",
    "한양대학교(ERICA)": "#004098",
    "수원대학교": "#C8102E",
    "가천대학교": "#009739",
    "강원대학교": "#005BAC",
    "한라대학교": "#003478",
    "강릉원주대학교": "#004098",
    "강릉영동대학교": "#006A4E",
    "충북대학교": "#C60C30",
    "청주대학교": "#002F6C",
    "서원대학교": "#008060",
    "건국대학교(충주캠)": "#006A4E",
    "공주대학교": "#004098",
    "순천향대학교": "#005BAC",
    "한국기술교육대학교": "#0072C6",
    "호서대학교": "#C8102E",
    "청운대학교": "#002F6C",
    "전북대학교": "#C60C30",
    "원광대학교": "#E03C31",
    "우석대학교": "#004098",
    "군산대학교": "#0072C6",
    "전주대학교": "#1D4E89",
    "목포대학교": "#004098",
    "순천대학교": "#008000",
    "포항공과대학교": "#C8102E",
    "안동대학교": "#002F6C",
    "경상대학교": "#006A4E",
    "창원대학교": "#004098",
    "인제대학교": "#0072C6",
    "마산대학교": "#C8102E",
    "제주대학교": "#006A4E"
}

# -------------------------
# 4. 학과 + 이모지 데이터
# -------------------------
departments = {
    "서울대학교": ["컴퓨터공학과 💻", "경제학과 📈", "물리학과 🔬", "경영학과 🏢", "법학과 ⚖️"],
    "연세대학교": ["컴퓨터과학과 💻", "전자공학과 ⚡", "경영학과 🏢", "국문학과 📖", "심리학과 🧠"],
    "고려대학교": ["컴퓨터학과 💻", "법학과 ⚖️", "경영학과 🏢", "의예과 🩺", "정치외교학과 🌏"],
    "한양대학교": ["기계공학과 ⚙️", "컴퓨터공학과 💻", "경영학과 🏢", "화학과 🧪", "건축학과 🏗️"],
    "성균관대학교": ["소프트웨어학과 💻", "경영학과 🏢", "전자공학과 ⚡", "화학과 🧪", "심리학과 🧠"],
    "전남대학교": ["컴퓨터공학과 💻", "농업경제학과 🌾", "간호학과 🩺", "기계공학과 ⚙️", "화학과 🧪"],
    "조선대학교": ["컴퓨터공학과 💻", "건축학과 🏗️", "경영학과 🏢", "법학과 ⚖️", "화학과 🧪"],
    "광주과학기술원": ["전기공학과 ⚡", "기계공학과 ⚙️", "컴퓨터공학과 💻", "화학공학과 🧪", "물리학과 🔬"],
    "부산대학교": ["컴퓨터공학과 💻", "전자공학과 ⚡", "경영학과 🏢", "법학과 ⚖️", "심리학과 🧠"],
    "동아대학교": ["기계공학과 ⚙️", "전자공학과 ⚡", "국어국문학과 📖", "경영학과 🏢", "화학공학과 🧪"],
    "부경대학교": ["해양학과 🌊", "컴퓨터공학과 💻", "경영학과 🏢", "전자공학과 ⚡", "생명과학과 🧬"],
    "부산가톨릭대학교": ["간호학과 🩺", "유아교육과 🧸", "사회복지학과 🤝"],
    "신라대학교": ["관광학과 ✈️", "경영학과 🏢", "컴퓨터공학과 💻"],
    "경북대학교": ["의예과 🩺", "컴퓨터공학과 💻", "전자공학과 ⚡", "법학과 ⚖️", "경영학과 🏢"],
    "계명대학교": ["음악학과 🎶", "미술학과 🎨", "컴퓨터공학과 💻", "경영학과 🏢", "간호학과 🩺"],
    "대구가톨릭대학교": ["간호학과 🩺", "사회복지학과 🤝", "심리학과 🧠"],
    "영남대학교": ["기계공학과 ⚙️", "전기공학과 ⚡", "경영학과 🏢", "법학과 ⚖️", "국문학과 📖"],
    "경일대학교": ["스포츠학과 ⚽", "컴퓨터공학과 💻", "디자인학과 🎨"],
    "인하대학교": ["항공우주공학과 ✈️", "컴퓨터공학과 💻", "경영학과 🏢", "화학공학과 🧪", "전기공학과 ⚡"],
    "경인교육대학교": ["초등교육과 📚"],
    "인천대학교": ["도시공학과 🏙️", "컴퓨터공학과 💻", "경영학과 🏢", "생명과학과 🧬"],
    "인천가톨릭대학교": ["신학과 ✝️", "간호학과 🩺"],
    "충남대학교": ["컴퓨터공학과 💻", "경영학과 🏢", "전자공학과 ⚡", "법학과 ⚖️"],
    "한남대학교": ["기독교학과 ✝️", "경영학과 🏢", "국문학과 📖"],
    "목원대학교": ["음악학과 🎶", "미술학과 🎨", "경영학과 🏢"],
    "배재대학교": ["컴퓨터공학과 💻", "경영학과 🏢"],
    "울산대학교": ["기계공학과 ⚙️", "전자공학과 ⚡", "경영학과 🏢", "법학과 ⚖️"],
    "을지대학교": ["간호학과 🩺", "보건학과 🏥"],
    "울산과학대학교": ["컴퓨터공학과 💻", "자동차공학과 🚗"],
    "성균관대학교(수원)": ["소프트웨어학과 💻", "경영학과 🏢", "화학과 🧪"],
    "경기대학교": ["관광학과 ✈️", "컴퓨터공학과 💻", "경영학과 🏢"],
    "한양대학교(ERICA)": ["컴퓨터공학과 💻", "전자공학과 ⚡", "디자인학과 🎨"],
    "수원대학교": ["체육학과 🏃", "경영학과 🏢", "컴퓨터공학과 💻"],
    "가천대학교": ["의예과 🩺", "컴퓨터공학과 💻", "경영학과 🏢"],
    "강원대학교": ["수의학과 🐶", "컴퓨터공학과 💻", "경영학과 🏢"],
    "한라대학교": ["관광학과 ✈️", "컴퓨터공학과 💻"],
    "강릉원주대학교": ["치의예과 🦷", "컴퓨터공학과 💻"],
    "강릉영동대학교": ["호텔관광학과 🏨", "경영학과 🏢"],
    "충북대학교": ["수의학과 🐶", "컴퓨터공학과 💻", "경영학과 🏢"],
    "청주대학교": ["언론정보학과 📰", "컴퓨터공학과 💻", "경영학과 🏢"],
    "서원대학교": ["유아교육과 🧸", "컴퓨터공학과 💻"],
    "건국대학교(충주캠)": ["축산학과 🐄", "컴퓨터공학과 💻"],
    "공주대학교": ["역사학과 📜", "컴퓨터공학과 💻"],
    "순천향대학교": ["의예과 🩺", "컴퓨터공학과 💻"],
    "한국기술교육대학교": ["기계공학과 ⚙️", "컴퓨터공학과 💻"],
    "호서대학교": ["신학과 ✝️", "컴퓨터공학과 💻"],
    "청운대학교": ["방송영상학과 🎥", "컴퓨터공학과 💻"],
    "전북대학교": ["수의학과 🐶", "컴퓨터공학과 💻"],
    "원광대학교": ["한의학과 🌿", "컴퓨터공학과 💻"],
    "우석대학교": ["체육학과 🏃", "컴퓨터공학과 💻"],
    "군산대학교": ["해양학과 🌊", "컴퓨터공학과 💻"],
    "전주대학교": ["기독교학과 ✝️", "컴퓨터공학과 💻"],
    "목포대학교": ["수산학과 🐟", "컴퓨터공학과 💻"],
    "순천대학교": ["농학과 🌾", "컴퓨터공학과 💻"],
    "포항공과대학교": ["신소재공학과 🔬", "컴퓨터공학과 💻"],
    "안동대학교": ["역사학과 📜", "컴퓨터공학과 💻"],
    "경상대학교": ["농업경제학과 🌾", "컴퓨터공학과 💻"],
    "창원대학교": ["기계공학과 ⚙️", "컴퓨터공학과 💻"],
    "인제대학교": ["의예과 🩺", "컴퓨터공학과 💻"],
    "마산대학교": ["간호학과 🩺", "컴퓨터공학과 💻"],
    "제주대학교": ["관광학과 ✈️", "해양학과 🌊", "축산학과 🐄", "간호학과 🩺"]
}

# -------------------------
# 5. 지역 및 대학교 선택
# -------------------------
region = st.selectbox("지역을 선택하세요:", list(universities.keys()))
univ = st.selectbox("대학교를 선택하세요:", universities[region])

# -------------------------
# 6. 배경 색상 적용
# -------------------------
if univ:
    st.subheader(f"{univ}의 학과 리스트")

    color = university_colors.get(univ, "#FFFFFF")
    r = int(color[1:3], 16) / 255
    g = int(color[3:5], 16) / 255
    b = int(color[5:7], 16) / 255
    h, l, s = rgb_to_hls(r, g, b)
    text_color = "#FFFFFF" if l < 0.5 else "#000000"

    st.markdown(
        f"""
        <style>
        .stApp {{
            background-color: {color};
            color: {text_color};
            font-family: 'Malgun Gothic', sans-serif;
        }}
        h1, h2, h3, h4, h5, h6, .stSelectbox label {{
            color: {text_color};
        }}
        </style>
        """,
        unsafe_allow_html=True
    )

    # -------------------------
    # 7. 학과 출력
    # -------------------------
    if univ in departments:
        for dept in departments[univ]:
            st.write(f"- {dept}")
    else:
        st.write("학과 정보가 준비되지 않았습니다.")
