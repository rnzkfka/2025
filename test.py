import streamlit as st
from colorsys import rgb_to_hls

# -------------------------
# 1. 앱 타이틀
# -------------------------
st.markdown(
    """
    <h1 style='text-align: center; font-family: Malgun Gothic;'>전국 대학교와 학과</h1>
    """,
    unsafe_allow_html=True
)

# -------------------------
# 2. 시/도별 대학교 데이터
# -------------------------
universities = {
    "서울특별시": ["서울대학교", "연세대학교", "고려대학교", "한양대학교", "성균관대학교"],
    "광주광역시": ["전남대학교", "조선대학교", "광주과학기술원"],
    "부산광역시": ["부산대학교", "동아대학교", "부경대학교", "부산가톨릭대학교", "신라대학교"],
    "대구광역시": ["경북대학교", "계명대학교", "대구가톨릭대학교", "영남대학교", "경일대학교"],
    "인천광역시": ["인하대학교", "경인교육대학교", "인천대학교", "인천가톨릭대학교"],
    "대전광역시": ["충남대학교", "한남대학교", "목원대학교", "배재대학교"],
    "울산광역시": ["울산대학교", "을지대학교", "울산과학대학교"],
    "경기도": ["성균관대학교(수원)", "경기대학교", "한양대학교(ERICA)", "수원대학교", "가천대학교"],
    "강원도": ["강원대학교", "한라대학교", "강릉원주대학교", "강릉영동대학교"],
    "충청북도": ["충북대학교", "청주대학교", "서원대학교", "건국대학교(충주캠)"],
    "충청남도": ["공주대학교", "순천향대학교", "한국기술교육대학교", "호서대학교", "청운대학교"],
    "전라북도": ["전북대학교", "원광대학교", "우석대학교", "군산대학교", "전주대학교"],
    "전라남도": ["목포대학교", "순천대학교"],
    "경상북도": ["포항공과대학교", "안동대학교"],
    "경상남도": ["경상대학교", "창원대학교", "인제대학교", "마산대학교"],
    "제주특별자치도": ["제주대학교"]
}

# -------------------------
# 3. 대학교 대표 색상
# -------------------------
university_colors = {
    "서울대학교": "#1E4D2B",
    "연세대학교": "#003478",
    "고려대학교": "#A50034",
    "한양대학교": "#004098",
    "성균관대학교": "#005BAC",
    "전남대학교": "#008000",
    "조선대학교": "#005BAC",
    "광주과학기술원": "#FF6600",
    "부산대학교": "#004098",
    "동아대학교": "#002F6C",
    "부경대학교": "#002F6C",
    "부산가톨릭대학교": "#6D9BC3",
    "신라대학교": "#C8102E",
    "경북대학교": "#C60C30",
    "계명대학교": "#1D4E89",
    "대구가톨릭대학교": "#2E8B57",
    "영남대학교": "#004098",
    "경일대학교": "#D2232A",
    "인하대학교": "#002F6C",
    "경인교육대학교": "#1A4C8B",
    "인천대학교": "#003DA5",
    "인천가톨릭대학교": "#6E2639",
    "충남대학교": "#005BAC",
    "한남대학교": "#002F6C",
    "목원대학교": "#8B1C62",
    "배재대학교": "#003478",
    "울산대학교": "#00462A",
    "을지대학교": "#008060",
    "울산과학대학교": "#005BAC",
    "성균관대학교(수원)": "#005BAC",
    "경기대학교": "#002F6C",
    "한양대학교(ERICA)": "#004098",
    "수원대학교": "#C8102E",
    "가천대학교": "#009739",
    "강원대학교": "#005BAC",
    "한라대학교": "#003478",
    "강릉원주대학교": "#004098",
    "강릉영동대학교": "#006A4E",
    "충북대학교": "#C60C30",
    "청주대학교": "#002F6C",
    "서원대학교": "#008060",
    "건국대학교(충주캠)": "#006A4E",
    "공주대학교": "#004098",
    "순천향대학교": "#005BAC",
    "한국기술교육대학교": "#0072C6",
    "호서대학교": "#C8102E",
    "청운대학교": "#002F6C",
    "전북대학교": "#C60C30",
    "원광대학교": "#E03C31",
    "우석대학교": "#004098",
    "군산대학교": "#0072C6",
    "전주대학교": "#1D4E89",
    "목포대학교": "#004098",
    "순천대학교": "#008000",
    "포항공과대학교": "#C8102E",
    "안동대학교": "#002F6C",
    "경상대학교": "#006A4E",
    "창원대학교": "#004098",
    "인제대학교": "#0072C6",
    "마산대학교": "#C8102E",
    "제주대학교": "#006A4E"
}

university_urls = {
    "서울대학교": "https://www.snu.ac.kr",
    "연세대학교": "https://www.yonsei.ac.kr",
    "고려대학교": "https://www.korea.ac.kr",
    "한양대학교": "https://www.hanyang.ac.kr",
    "성균관대학교": "https://www.skku.edu",
    "전남대학교": "https://www.jnu.ac.kr",
    "조선대학교": "https://www.chosun.ac.kr",
    "광주과학기술원": "https://www.gist.ac.kr",
    "부산대학교": "https://www.pusan.ac.kr",
    "동아대학교": "https://www.donga.ac.kr",
    "부경대학교": "https://www.pknu.ac.kr",
    "부산가톨릭대학교": "https://www.cup.ac.kr",
    "신라대학교": "https://www.silla.ac.kr",
    "경북대학교": "https://www.knu.ac.kr",
    "계명대학교": "https://www.kmu.ac.kr",
    "대구가톨릭대학교": "https://www.cu.ac.kr",
    "영남대학교": "https://www.yu.ac.kr",
    "경일대학교": "https://www.kiu.ac.kr",
    "인하대학교": "https://www.inha.ac.kr",
    "경인교육대학교": "https://www.ginue.ac.kr",
    "인천대학교": "https://www.inu.ac.kr",
    "인천가톨릭대학교": "https://www.iccu.ac.kr",
    "충남대학교": "https://www.cnu.ac.kr",
    "한남대학교": "https://www.hannam.ac.kr",
    "목원대학교": "https://www.mokwon.ac.kr",
    "배재대학교": "https://www.pcu.ac.kr",
    "울산대학교": "https://www.ulsan.ac.kr",
    "을지대학교": "https://www.eulji.ac.kr",
    "울산과학대학교": "https://www.uc.ac.kr",
    "성균관대학교(수원)": "https://www.skku.edu",
    "경기대학교": "https://www.kyonggi.ac.kr",
    "한양대학교(ERICA)": "https://www.hanyang.ac.kr/web/ERICA",
    "수원대학교": "https://www.suwon.ac.kr",
    "가천대학교": "https://www.gachon.ac.kr",
    "강원대학교": "https://www.kangwon.ac.kr",
    "한라대학교": "https://www.halla.ac.kr",
    "강릉원주대학교": "https://www.gwnu.ac.kr",
    "강릉영동대학교": "https://www.gyc.ac.kr",
    "충북대학교": "https://www.chungbuk.ac.kr",
    "청주대학교": "https://www.cju.ac.kr",
    "서원대학교": "https://www.seowon.ac.kr",
    "건국대학교(충주캠)": "https://www.kku.ac.kr",
    "공주대학교": "https://www.kongju.ac.kr",
    "순천향대학교": "https://www.sch.ac.kr",
    "한국기술교육대학교": "https://www.koreatech.ac.kr",
    "호서대학교": "https://www.hoseo.ac.kr",
    "청운대학교": "https://www.chungwoon.ac.kr",
    "전북대학교": "https://www.jbnu.ac.kr",
    "원광대학교": "https://www.wku.ac.kr",
    "우석대학교": "https://www.woosuk.ac.kr",
    "군산대학교": "https://www.kunsan.ac.kr",
    "전주대학교": "https://www.jj.ac.kr",
    "목포대학교": "https://www.mokpo.ac.kr",
    "순천대학교": "https://www.sunchon.ac.kr",
    "포항공과대학교": "https://www.postech.ac.kr",
    "안동대학교": "https://www.andong.ac.kr",
    "경상대학교": "https://www.gnu.ac.kr",
    "창원대학교": "https://www.changwon.ac.kr",
    "인제대학교": "https://www.inje.ac.kr",
    "마산대학교": "https://www.masanc.ac.kr",
    "제주대학교": "https://www.jejunu.ac.kr"
}

# -------------------------
# 4. 학과 + 이모지 데이터
# -------------------------
departments = {
"서울대학교": ["의예과 🩺", "법학과 ⚖️", "경제학부 📈", "컴퓨터공학부 💻", "국어국문학과 📖"],
    "연세대학교": ["경영학과 🏢", "의예과 🩺", "치의예과 🦷", "신학과 ✝️", "사회학과 🧑‍🤝‍🧑"],
    "고려대학교": ["정치외교학과 🌏", "미디어학부 🎥", "보건환경융합과학부 🧬", "국제학부 🌐", "심리학과 🧠"],
    "한양대학교": ["기계공학부 ⚙️", "연극영화학과 🎭", "건축학부 🏗️", "에너지공학과 🔋", "스포츠산업학과 ⚽"],
    "성균관대학교": ["유학동양학과 📜", "반도체시스템공학과 🔌", "소프트웨어학과 💻", "약학과 💊", "글로벌리더학부 🌍"],
    "전남대학교": ["수의학과 🐶", "농업경제학과 🌾", "간호학과 🩺", "수산해양학과 🌊", "지질환경과학과 🪨"],
    "조선대학교": ["치의예과 🦷", "한의예과 🌿", "미술대학 🎨", "체육학과 🏃", "군사학과 🎖️"],
    "광주과학기술원": ["신소재공학부 🧪", "생명과학부 🧬", "전자전산공학부 ⚡", "지구환경공학부 🌍", "융합기술학부 🔬"],
    "부산대학교": ["한문학과 🈶", "조선해양공학과 🚢", "약학과 💊", "항공우주공학과 ✈️", "재료공학부 🧱"],
    "동아대학교": ["법학과 ⚖️", "경영정보학과 📊", "의학과 🩺", "고고미술사학과 🏺", "음악학과 🎶"],
    "부경대학교": ["해양학과 🌊", "냉동공조공학과 ❄️", "수산생명의학과 🐟", "환경해양학과 🌎", "식품영양학과 🍎"],
    "부산가톨릭대학교": ["간호학과 🩺", "물리치료학과 🧍‍♂️", "사회복지학과 🤝", "유아교육과 🧸", "방사선학과 ☢️"],
    "신라대학교": ["관광경영학과 ✈️", "유통물류학과 🚛", "항만물류학과 ⚓", "디자인학과 🎨", "호텔경영학과 🏨"],
    "경북대학교": ["수의학과 🐶", "약학과 💊", "행정학과 🏛️", "원예과학과 🌱", "지리학과 🗺️"],
    "계명대학교": ["패션디자인학과 👗", "음악학부 🎶", "공연예술학부 🎭", "시각디자인학과 🎨", "무용학과 💃"],
    "대구가톨릭대학교": ["심리학과 🧠", "작업치료학과 ✋", "간호학과 🩺", "사회복지학과 🤝", "언어치료학과 🗣️"],
    "영남대학교": ["철학과 🧘", "식품공학과 🍞", "기계공학과 ⚙️", "국문학과 📖", "회계학과 📑"],
    "경일대학교": ["스포츠학과 ⚽", "자동차공학과 🚗", "경찰학과 👮", "뷰티화장품학과 💄", "드론공학과 🚁"],
    "인하대학교": ["항공우주공학과 ✈️", "조선해양공학과 🚢", "정보통신공학과 📡", "산업경영공학과 🏭", "화학공학과 🧪"],
    "경인교육대학교": ["초등교육과 📚", "특수교육과 🧩", "유아교육과 🧸", "국어교육과 📖", "수학교육과 ➗"],
    "인천대학교": ["도시공학과 🏙️", "해양학과 🌊", "국제통상학과 💹", "기계시스템공학과 ⚙️", "생명공학과 🧬"],
    "인천가톨릭대학교": ["신학과 ✝️", "문화예술학과 🎨", "간호학과 🩺", "사회복지학과 🤝", "심리상담학과 🧠"],
    "충남대학교": ["원예학과 🌱", "지질학과 🪨", "전기전자공학과 ⚡", "컴퓨터공학과 💻", "행정학과 🏛️"],
    "한남대학교": ["영어영문학과 📘", "신학과 ✝️", "문헌정보학과 📚", "경영학과 🏢", "디자인학부 🎨"],
    "목원대학교": ["음악학부 🎶", "미술학부 🎨", "기독교학부 ✝️", "공연예술학부 🎭", "체육학부 🏃"],
    "배재대학교": ["외국어학부 🌍", "컴퓨터공학과 💻", "사회복지학과 🤝", "경영학과 🏢", "항공서비스학과 ✈️"],
    "울산대학교": ["조선해양공학과 🚢", "기계공학과 ⚙️", "에너지자원공학과 ⛏️", "경영학부 🏢", "간호학과 🩺"],
    "을지대학교": ["간호학과 🩺", "의료경영학과 🏥", "보건환경안전학과 🌱", "응급구조학과 🚑", "물리치료학과 🧍‍♂️"],
    "울산과학대학교": ["자동차공학과 🚗", "조선해양학과 🚢", "간호학과 🩺", "전기전자학과 ⚡", "컴퓨터공학과 💻"],
    "성균관대학교(수원)": ["반도체시스템공학과 🔌", "소프트웨어학과 💻", "화학과 🧪", "약학과 💊", "바이오메카트로닉스학과 🤖"],
    "경기대학교": ["관광학부 ✈️", "호텔경영학과 🏨", "국제통상학과 💹", "연극영화학과 🎭", "물리치료학과 🧍‍♂️"],
    "한양대학교(ERICA)": ["산업공학과 🏭", "소프트웨어학과 💻", "전자공학과 ⚡", "게임학과 🎮", "문화콘텐츠학과 🎨"],
    "수원대학교": ["체육학부 🏃", "건축학부 🏗️", "미술학부 🎨", "공연예술학부 🎭", "경영학부 🏢"],
    "가천대학교": ["의예과 🩺", "AI소프트웨어학부 🤖", "바이오나노학과 🧬", "경영학과 🏢", "음악학부 🎶"],
    "강원대학교": ["수의학과 🐶", "산림환경학과 🌲", "지질학과 🪨", "컴퓨터공학과 💻", "교육학과 📚"],
    "한라대학교": ["관광학부 ✈️", "호텔경영학과 🏨", "건축학과 🏗️", "디자인학과 🎨", "정보통신학과 📡"],
    "강릉원주대학교": ["치의예과 🦷", "간호학과 🩺", "해양학과 🌊", "환경공학과 🌱", "식품영양학과 🍎"],
    "강릉영동대학교": ["호텔관광학과 🏨", "물리치료학과 🧍‍♂️", "간호학과 🩺", "항공서비스학과 ✈️", "뷰티학과 💄"],
    "충북대학교": ["약학과 💊", "수의학과 🐶", "지질환경과학과 🪨", "식품공학과 🍞", "전기전자공학부 ⚡"],
    "청주대학교": ["언론정보학과 📰", "연극영화학부 🎭", "항공운항학과 ✈️", "체육학부 🏃", "미술학부 🎨"],
    "서원대학교": ["유아교육과 🧸", "간호학과 🩺", "특수교육과 🧩", "컴퓨터공학과 💻", "사회복지학과 🤝"],
    "건국대학교(충주캠)": ["축산학과 🐄", "환경생명과학과 🌱", "스포츠과학과 🏃", "산림조경학과 🌲", "간호학과 🩺"],
    "공주대학교": ["역사교육과 📜", "한문교육과 🈶", "특수교육과 🧩", "지리교육과 🗺️", "국어교육과 📖"],
    "순천향대학교": ["의예과 🩺", "글로벌문화산업학과 🌍", "보건행정학과 🏥", "화학공학과 🧪", "스포츠과학과 🏃"],
    "한국기술교육대학교": ["기계공학부 ⚙️", "산업디자인공학과 🎨", "에너지신소재공학과 🔋", "전기전자통신공학부 📡", "AI로봇학과 🤖"],
    "호서대학교": ["신학과 ✝️", "반려동물학과 🐕", "정보보안학과 🔐", "항공서비스학과 ✈️", "스포츠학과 🏃"],
    "청운대학교": ["방송영상학과 🎥", "항공서비스학과 ✈️", "연극뮤지컬학과 🎭", "패션디자인학과 👗", "실용음악학과 🎶"],
    "전북대학교": ["한의학과 🌿", "수의학과 🐶", "농생물학과 🌾", "통계학과 📊", "미생물학과 🧫"],
    "원광대학교": ["한의예과 🌿", "치의예과 🦷", "철학과 🧘", "불교학과 🪷", "체육교육과 🏃"],
    "우석대학교": ["특수교육과 🧩", "유아교육과 🧸", "간호학과 🩺", "항공서비스학과 ✈️", "체육학과 🏃"],
    "군산대학교": ["해양생산시스템관리학과 🌊", "조선공학과 🚢", "식품영양학과 🍎", "환경생명과학과 🌱", "경영학과 🏢"],
    "전주대학교": ["기독교학과 ✝️", "한식조리학과 🍲", "디자인학과 🎨", "스포츠학과 🏃", "문화콘텐츠학과 🎬"],
    "목포대학교": ["수산생명의학과 🐟", "해양학과 🌊", "환경공학과 🌱", "체육학과 🏃", "국문학과 📖"],
    "순천대학교": ["농학과 🌾", "원예학과 🌱", "수산생명의학과 🐟", "환경교육과 🌍", "국어교육과 📖"],
    "포항공과대학교": ["화학공학과 🧪", "신소재공학과 🔬", "컴퓨터공학과 💻", "물리학과 🔬", "수학과 ➗"],
    "안동대학교": ["역사학과 📜", "지리학과 🗺️", "농학과 🌾", "산림과학과 🌲", "컴퓨터공학과 💻"],
    "경상대학교": ["농업경제학과 🌾", "해양학과 🌊", "산림환경자원학과 🌲", "수의학과 🐶", "식품영양학과 🍎"],
    "창원대학교": ["메카트로닉스공학과 🤖", "조선해양공학과 🚢", "경영학과 🏢", "체육학과 🏃", "음악학과 🎶"],
    "인제대학교": ["의예과 🩺", "의용공학과 ⚙️", "간호학과 🩺", "사회복지학과 🤝", "보건안전학과 🏥"],
    "마산대학교": ["간호학과 🩺", "치위생학과 🦷", "물리치료학과 🧍‍♂️", "보건행정학과 🏥", "작업치료학과 ✋"],
    "제주대학교": ["관광학과 ✈️", "해양학과 🌊", "축산학과 🐄", "간호학과 🩺", "생명과학과 🧬"]
}

# -------------------------
# 4-1. 학과 설명
# -------------------------
department_descriptions = {
    "컴퓨터공학과 💻": "소프트웨어 개발, 알고리즘, 자료구조, 인공지능 등을 배웁니다.",
    "경제학과 📈": "경제 이론, 정책, 금융 및 통계 분석을 학습합니다.",
    "법학과 ⚖️": "헌법, 민법, 형법 등 법률과 관련된 전문 지식을 배웁니다.",
    "의예과 🩺": "의학 기초 지식과 진료 준비 과정을 배우며, 본과 진학 준비를 합니다.",
    "간호학과 🩺": "환자 간호, 임상 실습, 의료 지식과 윤리 등을 학습합니다.",
    "심리학과 🧠": "인간 행동과 정신 과정을 이해하고 분석하는 방법을 배웁니다.",
    "전자공학과 ⚡": "회로, 통신, 전자기학, 반도체 기술 등을 학습합니다.",
    "기계공학과 ⚙️": "기계 설계, 동역학, 열역학, 재료 역학 등을 배웁니다.",
    "화학과 🧪": "화학 반응, 분석 화학, 유기·무기 화학 등 실험과 이론을 학습합니다.",
    "건축학과 🏗️": "건물 설계, 구조, 시공, 건축 디자인 등을 배웁니다.",
    "물리학과 🔬": "기초 물리, 실험, 양자물리, 천체물리 등을 학습합니다.",
    "음악학과 🎶": "연주, 작곡, 음악 이론 및 역사 등을 배웁니다.",
    "미술학과 🎨": "회화, 조소, 디자인, 미술사 등을 학습합니다.",
    "관광학과 ✈️": "여행, 호텔, 레저 산업과 관련된 경영 및 실무 지식을 배웁니다.",
    "신학과 ✝️": "기독교 교리, 성서 연구, 종교 철학과 목회 실무를 배웁니다.",
    "수의학과 🐶": "동물 건강, 질병, 예방 및 치료 방법을 학습합니다.",
    "해양학과 🌊": "해양 환경, 해양 생물, 해양 정책 등을 배웁니다.",
    "바이오나노학과 🧬": "생명과학과 나노 기술을 접목한 융합 학문을 배웁니다.",
    "치의예과 🦷": "치의학 기초와 진료 기술을 배우고 본과 진학을 준비합니다.",
    "한의예과 🌿": "한의학 기초와 침, 한약 등 진료 방법을 학습합니다.",
    "체육학과 🏃": "체육 지도, 운동 과학, 건강 관리 등 실습과 이론을 배웁니다.",
    "스포츠학과 ⚽": "운동과학, 스포츠 경영, 체육 지도법 등을 학습합니다.",
    "재료공학과 🧱": "금속, 세라믹, 고분자 등 재료 연구와 응용을 배웁니다.",
    "항공우주공학과 ✈️": "항공기 설계, 비행 원리, 우주 기술을 학습합니다.",
    "조선해양공학과 🚢": "선박 설계, 해양 구조물, 해양 기술을 배우고 실습합니다.",
    "바이오메카트로닉스학과 🤖": "생명공학과 로봇공학 융합 기술을 배웁니다.",
    "패션디자인학과 👗": "의류 디자인, 패션 트렌드, 시각 디자인 기술을 학습합니다.",
    "연극영화학과 🎭": "연극, 영화 제작, 연기, 영상 기술을 배웁니다.",
    "디자인학과 🎨": "시각 디자인, 산업 디자인, UX/UI 디자인 등을 학습합니다.",
    "미디어학부 🎥": "영상 제작, 방송, 멀티미디어 콘텐츠 제작을 배웁니다.",
    "보건환경융합과학부 🧬": "보건과 환경 분야의 융합 과학 기술을 학습합니다.",
    "국제학부 🌐": "국제관계, 글로벌 정책, 외교와 경제를 배웁니다.",
    "약학과 💊": "약물학, 제약 실습, 임상 약학 등을 학습합니다.",
    "글로벌리더학부 🌍": "글로벌 리더십, 국제 경영, 외교 실무를 배웁니다.",
    "농업경제학과 🌾": "농업 경영, 농촌 개발, 농업 정책과 경제를 학습합니다.",
    "수산해양학과 🌊": "수산 자원 관리, 해양 생물, 양식학 등을 배웁니다.",
    "지질환경과학과 🪨": "지질학, 환경과학, 지구 시스템을 연구합니다.",
    "한문학과 🈶": "한문, 고전문학, 문화 연구를 배웁니다.",
    "음악학부 🎶": "연주, 작곡, 음악 이론, 역사 등을 학습합니다.",
    "체육학부 🏃": "운동, 스포츠 지도, 건강 관리 등을 배웁니다.",
    "환경생명과학과 🌱": "환경과 생명과학 융합 기술과 실습을 배웁니다.",
    "항공서비스학과 ✈️": "항공 승무원, 서비스 운영, 국제 서비스 실무를 배웁니다.",
    "정보보안학과 🔐": "네트워크 보안, 암호학, 사이버 보안 기술을 배웁니다.",
    "AI소프트웨어학부 🤖": "인공지능, 머신러닝, 딥러닝과 소프트웨어 개발을 학습합니다.",
    "물리치료학과 🧍‍♂️": "재활 치료, 근골격계 재활, 운동치료 기술을 학습합니다.",
    "작업치료학과 ✋": "일상생활 재활, 작업 치료 기법과 실습을 학습합니다.",
    "사회복지학과 🤝": "사회복지 정책, 상담, 지역사회 개발을 학습합니다.",
    "유아교육과 🧸": "유아 발달, 교육 방법, 놀이와 학습을 배웁니다.",
    "방송영상학과 🎥": "영상 제작, 편집, 방송 콘텐츠 제작을 학습합니다.",
    "한의학과 🌿": "한의학 이론, 임상 실습, 침구학 등을 배우고 연구합니다.",
    "농학과 🌾": "식물, 농업 생산, 농업 과학 및 실습을 학습합니다.",
    "원예학과 🌱": "원예 기술, 식물 생리, 작물 관리 등을 배웁니다.",
    "수산생명의학과 🐟": "수산 생명과학, 양식, 해양 생물학을 학습합니다.",
    "철학과 🧘": "철학 사상, 논리, 윤리, 철학적 사고를 학습합니다.",
    "회계학과 📑": "회계 원리, 재무 분석, 세무와 회계 실무를 배웁니다.",
    "자동차공학과 🚗": "자동차 설계, 엔진, 전기차 및 자율주행 기술을 학습합니다.",
    "드론공학과 🚁": "드론 설계, 운용, 영상 촬영 및 관련 기술을 배웁니다.",
    "국제통상학과 💹": "국제 무역, 통상 정책, 해외 시장 분석 등을 학습합니다.",
    "언론정보학과 📰": "언론, 미디어, 보도 제작, 콘텐츠 기획과 실습을 학습합니다.",
    "조선해양학과 🚢": "조선 설계, 해양 구조물, 선박 실무를 배웁니다."
}

# -------------------------
# 5. 지역 및 대학교 선택
# -------------------------
region = st.selectbox("지역을 선택하세요:", ["미선택"] + list(universities.keys()), index=0)

if region != "미선택":
    univ = st.selectbox("대학교를 선택하세요:", ["미선택"] + universities[region], index=0)
else:
    univ = "미선택"

# -------------------------
# 6. 배경 색상 적용
# -------------------------
if univ != "미선택":
    st.subheader(f"{univ}의 학과 리스트")

    # 선택한 대학교 홈페이지 버튼 (새 창 열기, 반투명 흰색 버튼)
    if univ in university_urls:
        univ_color = university_colors.get(univ, "#000000")  # 안전하게 색상 가져오기
        st.markdown(
            f"<a href='{university_urls[univ]}' target='_blank' style='text-decoration:none;'>"
            f"<button style='padding:10px 18px; border:none; border-radius:10px;"
            f"background-color: rgba(255, 255, 255, 0.8); color:{univ_color}; font-weight:bold; cursor:pointer;'>"
            f"{univ} 홈페이지 바로가기</button></a>",
            unsafe_allow_html=True
        )


    color = university_colors.get(univ, "#FFFFFF")
    r = int(color[1:3], 16) / 255
    g = int(color[3:5], 16) / 255
    b = int(color[5:7], 16) / 255
    h, l, s = rgb_to_hls(r, g, b)
    text_color = "#FFFFFF" if l < 0.5 else "#000000"
else:
    color = "#FFFFFF"
    text_color = "#000000"

st.markdown(
    f"""
    <style>
    .stApp {{
        background-color: {color};
        color: {text_color};
        font-family: 'Malgun Gothic', sans-serif;
    }}
    h1, h2, h3, h4, h5, h6, .stSelectbox label {{
        color: {text_color};
    }}
    </style>
    """,
    unsafe_allow_html=True
)

if univ != "미선택":
    if univ in departments:
        for dept in departments[univ]:
            # 학과 이름과 버튼 한 줄 배치
            cols = st.columns([3,1])
            cols[0].write(f"- {dept}")  # 학과 이름

            # 설명 버튼 (Streamlit 버튼 사용)
            if cols[1].button("설명 보기", key=f"{univ}_{dept}"):
                st.markdown(
                    f"<div style='background-color:{university_colors.get(univ, '#000000')}; "
                    f"color:#ffffff; padding:10px; border-radius:10px; margin-bottom:10px;'>"
                    f"{department_descriptions.get(dept, '이 학과의 상세 설명은 준비 중입니다.')}"
                    f"</div>",
                    unsafe_allow_html=True
                )
    else:
        st.write("학과 정보가 준비되지 않았습니다.")
